define("local_inactive_users/tablefilter",["jquery"],(function($){return{init:function(){var featureurl=M.cfg.wwwroot+"/local/inactive_users/delete.php";$("#inactive_users-myInput").on("keyup",(function(){var input,filter;input=$(this),filter=input.val().toUpperCase(),$("#myTable").find("tr").each((function(index){if(0!==index){$(this).hide();var firstname=$(this).find("td").eq(1).text().toUpperCase(),lastname=$(this).find("td").eq(2).text().toUpperCase(),email=$(this).find("td").eq(3).text().toUpperCase();(firstname.indexOf(filter)>-1||lastname.indexOf(filter)>-1||email.indexOf(filter)>-1)&&$(this).show()}}))})),$("#checkAll").on("click",(function(){var source=this;$(".user-checkbox").each((function(){$(this).prop("checked",source.checked)}))})),$("#suspendSelected").on("click",(function(){var selectedIds=$.map($(".user-checkbox:checked"),(function(checkbox){return $(checkbox).data("userid")}));selectedIds.length>0?selectedIds.forEach((function(userid){var suspendUrl="".concat(featureurl,"?userid=").concat(userid,"&action=1");$.ajax({url:suspendUrl,type:"POST",success:function(){location.reload()},error:function(){alert("Failed to suspend some users. Please try again.")}})})):alert("Please select at least one user to suspend.")})),$("#deleteSelected").on("click",(function(event){if(0===$.map($(".user-checkbox:checked"),(function(checkbox){return $(checkbox).data("userid")})).length)return alert("Please select at least one user to delete."),void event.stopImmediatePropagation();$("#confirmDeleteSelected").modal("show")})),$("#confirmDeleteSelectedButton").on("click",(function(){var selectedIds=$.map($(".user-checkbox:checked"),(function(checkbox){return $(checkbox).data("userid")}));selectedIds.length>0&&(selectedIds.forEach((function(userid){var deleteUrl="".concat(featureurl,"?userid=").concat(userid,"&action=2");$.ajax({url:deleteUrl,type:"POST",success:function(){location.reload()},error:function(error){alert("Failed to delete user ID ".concat(userid,": ").concat(error))}})})),$("#confirmDeleteSelected").modal("hide"))}))}}}));

//# sourceMappingURL=tablefilter.min.js.map